(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14f0312b"],{"0d98":function(t,a,e){t.exports=e.p+"img/close-popup.cb7e35ba.svg"},3274:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"deposit-popup"},[a("img",{staticClass:"close-btn",attrs:{src:e("0d98"),alt:""},on:{click:t.closePopup}}),a("p",{staticClass:"title"},[t._v("Stake")]),a("p",{staticClass:"balance-text"},[t._v("Balance: "+t._s(t.userBalance))]),a("div",{staticClass:"input-wrap"},[a("ValueInput",{attrs:{max:t.userBalanceExact,parentValue:t.amount,valueName:t.pool.stakingTokenName},on:{onchange:t.updateMainValue}})],1),a("button",{staticClass:"btn",attrs:{disabled:!t.amount||0==t.amount},on:{click:t.stakeHandler}},[t._v(" Stake ")])])},n=[];const o=()=>e.e("chunk-6bc0cf3f").then(e.bind(null,"6618"));var c={data(){return{pool:null,userBalance:null,userBalanceExact:null,amount:"",amountError:""}},computed:{account(){return this.$store.getters.getAccount}},methods:{closePopup(){this.$emit("close")},async getBalance(){try{const t=await this.pool.erc20ContractInstance.balanceOf(this.account);this.userBalanceExact=this.$ethers.utils.formatEther(t.toString()),this.userBalance=parseFloat(this.userBalanceExact).toFixed(2)}catch(t){}},async stakeHandler(){try{const t=this.$ethers.utils.parseEther(this.amount.toString()),a=await this.pool.contractInstance.deposit(this.pool.poolId,t);this.closePopup();await a.wait()}catch(t){}},updateMainValue(t){if(t>this.maxMainValue)return this.amountError="The value cannot be greater than "+this.userBalance,!1;this.mainValueError="",this.amount=t}},async created(){const t=this.$store.getters.getPopupData.poolId;t||this.$emit("close");const a=this.$store.getters.getFarmPoolById(t);a||this.$emit("close"),this.pool=a,await this.getBalance()},components:{ValueInput:o}},i=c,l=(e("712f"),e("2877")),r=Object(l["a"])(i,s,n,!1,null,"7af84cf9",null);a["default"]=r.exports},"712f":function(t,a,e){"use strict";e("7133")},7133:function(t,a,e){}}]);